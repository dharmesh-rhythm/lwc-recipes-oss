<template>
    <div class="modal-backdrop" onclick={handleCancel} tabindex="-1"></div>
    <section
        class="modal"
        role="dialog"
        aria-modal="true"
        aria-labelledby="modalTitle"
    >
        <div class="modal__content">
            <header class="modal__header">
                <h2 id="modalTitle" class="modal__title">Select Record Type</h2>
                <button
                    type="button"
                    class="modal__close"
                    onclick={handleCancel}
                    title="Close"
                >
                    <span aria-hidden="true">&times;</span>
                </button>
            </header>
            <div class="modal__body">
                <p class="record-type-prompt">
                    Select a record type for your new assessment
                </p>
                <div class="record-type-list">
                    <template for:each={recordTypes} for:item="recordType">
                        <div
                            key={recordType.value}
                            class="record-type-item"
                            onclick={handleRecordTypeSelect}
                            data-value={recordType.value}
                        >
                            <div class="record-type-icon">
                                <template if:true={recordType.isAssessmentType}>
                                    <svg viewBox="0 0 24 24" class="icon">
                                        <path
                                            d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 2h1.5v3l1-1c.9-.9 2.5-.9 3.4 0 .9.9.9 2.5 0 3.4l-4.9 5.2-4.9-5.2c-.9-.9-.9-2.5 0-3.4.9-.9 2.5-.9 3.4 0l1 1V5zm0 14h-4v-3h4v3zm6 0h-4v-3h4v3z"
                                        ></path>
                                    </svg>
                                </template>
                                <template if:true={recordType.isAssessmentArea}>
                                    <svg viewBox="0 0 24 24" class="icon">
                                        <path
                                            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5.5-2.5l7.51-3.49L17.5 6.5 9.99 9.99 6.5 17.5zm5.5-6.6c.61 0 1.1.49 1.1 1.1s-.49 1.1-1.1 1.1-1.1-.49-1.1-1.1.49-1.1 1.1-1.1z"
                                        ></path>
                                    </svg>
                                </template>
                            </div>
                            <div class="record-type-details">
                                <h3 class="record-type-name">
                                    {recordType.label}
                                </h3>
                                <p class="record-type-description">
                                    {recordType.description}
                                </p>
                            </div>
                        </div>
                    </template>
                </div>
            </div>
            <footer class="modal__footer">
                <button
                    type="button"
                    class="btn btn--neutral"
                    onclick={handleCancel}
                >
                    Cancel
                </button>
            </footer>
        </div>
    </section>
</template>
