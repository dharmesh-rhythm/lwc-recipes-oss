<template>
    <div class="modal-backdrop" onclick={handleCancel} tabindex="-1"></div>
    <section
        class="modal"
        role="dialog"
        aria-modal="true"
        aria-labelledby="modalTitle"
    >
        <form class="modal__form" onsubmit={handleSave} novalidate>
            <header class="modal__header">
                <h2 id="modalTitle" class="modal__title">{modalTitle}</h2>
                <button
                    type="button"
                    class="modal__close"
                    onclick={handleCancel}
                    title="Close"
                >
                    <span aria-hidden="true">&times;</span>
                </button>
            </header>
            <div class="modal__body">
                <div class="form-grid">
                    <!-- Assessment Type Name -->
                    <div class={assessmentNameClass}>
                        <label for="assessmentName"
                            >Assessment Type Name<span class="required"
                                >*</span
                            ></label
                        >
                        <input
                            type="text"
                            id="assessmentName"
                            name="assessmentName"
                            placeholder="Enter assessment type name"
                            value={form.assessmentName}
                            oninput={handleInputChange}
                            aria-invalid={isAssessmentNameInvalid}
                        />
                        <template if:true={errors.assessmentName}>
                            <span class="error-text"
                                >{errors.assessmentName}</span
                            >
                        </template>
                    </div>

                    <!-- Assessment Area -->
                    <div class={assessmentAreaClass}>
                        <label for="assessmentArea">
                            Assessment Area<span class="required">*</span>
                        </label>
                        <input
                            type="text"
                            id="assessmentArea"
                            name="assessmentArea"
                            placeholder="Enter assessment area"
                            value={form.assessmentArea}
                            oninput={handleInputChange}
                            aria-invalid={isAssessmentAreaInvalid}
                        />
                        <template if:true={errors.assessmentArea}>
                            <span class="error-text"
                                >{errors.assessmentArea}</span
                            >
                        </template>
                    </div>

                    <!-- Record Type -->

                    <!-- Status -->
                    <div class={statusClass}>
                        <label for="status">
                            Status<span class="required">*</span>
                        </label>
                        <select
                            id="status"
                            name="status"
                            value={form.status}
                            onchange={handleInputChange}
                            aria-invalid={isStatusInvalid}
                        >
                            <option value="">--None--</option>
                            <template
                                for:each={statusOptions}
                                for:item="option"
                            >
                                <option key={option.value} value={option.value}>
                                    {option.label}
                                </option>
                            </template>
                        </select>
                        <template if:true={errors.status}>
                            <span class="error-text">{errors.status}</span>
                        </template>
                    </div>
                </div>
            </div>
            <footer class="modal__footer">
                <button
                    type="button"
                    class="btn btn--neutral"
                    onclick={handleCancel}
                >
                    Cancel
                </button>
                <button type="submit" class="btn btn--primary">Save</button>
            </footer>
        </form>
    </section>
</template>
