<template>
    <button
        class="fab-button"
        onclick={handleOpenChecklistModal}
        aria-label="Create New Checklist"
    >
        <svg
            viewBox="0 0 24 24"
            class="fab-icon"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
        >
            <path
                d="M12 5v14M5 12h14"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
            />
        </svg>
    </button>

    <template lwc:if={showChecklistModal}>
        <c-checklist-modal
            onclose={handleCloseChecklistModal}
            onsave={handleSaveChecklist}
        ></c-checklist-modal>
    </template>

    <template lwc:if={showDetailView}>
        <c-checklist-detail-page
            record-id={selectedChecklistId}
            onback={handleBackToList}
            onedit={handleEditItem}
        ></c-checklist-detail-page>
    </template>

    <template lwc:if={showListView}>
        <div class="card-container">
            <div class="header-container">
                <div class="title-with-icon">
                    <span class="checklist-icon-container">
                        <img
                            src="https://img.icons8.com/fluency-systems-filled/24/ffffff/checklist.png"
                            alt="Checklist Icon"
                            class="checklist-icon"
                        />
                    </span>
                    <h2 class="checklist-title">Checklist</h2>
                </div>
                <!-- <button class="new-button" onclick={handleOpenChecklistModal}>
                    New
                </button> -->
            </div>

            <div class="checklist-container">
                <c-checklist
                    items={checklistItems}
                    onview={handleViewChecklist}
                    onedit={handleEditItem}
                    ondelete={handleDeleteItem}
                    ondataloaded={handleDataLoaded}
                ></c-checklist>
            </div>
        </div>
    </template>
</template>
