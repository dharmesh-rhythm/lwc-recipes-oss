<template>
    <!-- Record Type Selection Modal -->
    <template lwc:if={showRecordTypeModal}>
        <c-record-type-modal
            onclose={handleCloseRecordTypeModal}
            onselect={handleRecordTypeSelect}
        ></c-record-type-modal>
    </template>

    <!-- Assessment Modal -->
    <template lwc:if={showAssessmentModal}>
        <c-assessment-modal
            onclose={handleCloseAssessmentModal}
            onsave={handleSaveAssessment}
            record-type={selectedRecordType}
        ></c-assessment-modal>
    </template>

    <!-- Assessment Area Modal -->
    <template lwc:if={showAssessmentAreaModal}>
        <c-assessment-area-modal
            onclose={handleCloseAssessmentAreaModal}
            onsave={handleSaveAssessment}
        ></c-assessment-area-modal>
    </template>

    <div class="card-container">
        <div class="header-container">
            <div class="title-with-icon">
                <span class="assessment-icon-container">
                    <img
                        src="https://img.icons8.com/fluency-systems-filled/24/ffffff/report-card.png"
                        alt="Assessment Icon"
                        class="assessment-icon"
                    />
                </span>
                <h2 class="assessment-title">Assessment Types</h2>
            </div>
            <button class="new-button" onclick={handleNewClick}>
                <!-- <span class="new-icon">+</span> -->
                New
            </button>
        </div>

        <div class="assessment-container">
            <c-assessment-type
                items={assessmentItems}
                onview={handleViewItem}
                onedit={handleEditItem}
                ondelete={handleDeleteItem}
                onsave={handleSaveAssessment}
                ondataloaded={handleDataLoaded}
            ></c-assessment-type>
        </div>
    </div>
</template>
